<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>MASTER X | Home</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        body { background: #050505; color: white; font-family: 'Cairo', sans-serif; overflow-x: hidden; }
        .glass { background: rgba(255, 255, 255, 0.02); backdrop-filter: blur(12px); border: 1px solid rgba(255, 255, 255, 0.06); }
        .glow-red { box-shadow: 0 0 15px rgba(220, 38, 38, 0.15); }
        .ad-box { background: rgba(0, 0, 0, 0.5); border: 1px dashed rgba(255, 255, 255, 0.1); }
        .hack-card { transition: 0.3s; }
        .hack-card:active { transform: scale(0.97); }
    </style>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7995831182050548"
     crossorigin="anonymous"></script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7995831182050548" crossorigin="anonymous"></script>
</head>
<body class="p-3 pb-24">

    <header class="glass p-4 rounded-3xl flex justify-between items-center mb-5 sticky top-2 z-40">
        <h1 class="text-2xl font-black text-red-500 italic tracking-tighter">MASTER X</h1>
        <div class="glass px-4 py-2 rounded-full font-bold flex items-center gap-2 text-sm">
            <span id="u-balance" class="text-white">0</span> ğŸª™
        </div>
    </header>

    <section class="ad-box p-1 rounded-2xl mb-5 flex justify-center items-center">
        <script type="text/javascript">
            atOptions = {
                'key' : 'd5a96c0fea5c0cae8f6c7dee54b39841',
                'format' : 'iframe',
                'height' : 60,
                'width' : 468,
                'params' : {}
            };
        </script>
        <script type="text/javascript" src="https://www.highperformanceformat.com/d5a96c0fea5c0cae8f6c7dee54b39841/invoke.js"></script>
    </section>

    <section class="glass p-6 rounded-3xl text-center mb-5 glow-red">
        <p class="text-zinc-400 text-xs tracking-widest uppercase">Ø±ØµÙŠØ¯ Ø§Ù„Ø­Ø³Ø§Ø¨</p>
        <p class="text-5xl font-black text-white mb-5"><span id="u-balance-big">0</span> ğŸª™</p>
        <button onclick="watchAd()" class="w-full bg-yellow-500 text-black p-4 rounded-2xl font-black text-sm">Ø´Ø§Ù‡Ø¯ Ø¥Ø¹Ù„Ø§Ù† ÙˆØ§ÙƒØ³Ø¨ Ù†Ù‚Ø§Ø· ğŸ</button>
    </section>

    <section class="ad-box p-2 rounded-2xl mb-5 flex justify-center items-center">
        <ins class="adsbygoogle"
             style="display:block"
             data-ad-client="ca-pub-7995831182050548"
             data-ad-slot="1739810548"
             data-ad-format="auto"
             data-full-width-responsive="true"></ins>
        <script>
             (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
    </section>

    <h2 class="text-xl font-black mb-4 tracking-tight text-white">Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ ğŸ²</h2>
    <section class="grid grid-cols-2 gap-3 mb-6">
        <a href="./plinko.html" class="glass p-5 rounded-3xl text-center flex flex-col items-center">
            <div class="text-5xl mb-3">ğŸ°</div>
            <p class="font-bold text-sm">Ø¨Ù„ÙŠÙ†ÙƒÙˆ</p>
        </a>
        <a href="./crash.html" class="glass p-5 rounded-3xl text-center flex flex-col items-center">
            <div class="text-5xl mb-3">âœˆï¸</div>
            <p class="font-bold text-sm">Ø§Ù„Ø·ÙŠØ§Ø±Ø©</p>
        </a>
    </section>

    <h2 class="text-xl font-black mb-4 tracking-tight text-white">Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ù…ØªØ§Ø­Ø© ğŸ› ï¸</h2>
    <section id="hacks-grid" class="grid grid-cols-2 gap-3 mb-5"></section>

    <section class="ad-box p-2 rounded-2xl mb-5 flex justify-center items-center">
        <ins class="adsbygoogle"
             style="display:block"
             data-ad-format="autorelaxed"
             data-ad-client="ca-pub-7995831182050548"
             data-ad-slot="5487483861"></ins>
        <script>
             (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
    </section>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-app.js";
        import { getDatabase, ref, onValue, update, get } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-database.js";

        const db = getDatabase(initializeApp({
            apiKey: "AIzaSyCd6mOpEJyiUSAAhmm2NbhT80MMY0UQJcc",
            databaseURL: "https://project-fe025bb5-b1cc-4b8f-93e-default-rtdb.firebaseio.com"
        }));
        
        const phone = localStorage.getItem('zeykor_phone');
        if(!phone) window.location.href = "login.html";

        onValue(ref(db, 'ZEYKOR/users/' + phone), (snap) => {
            const b = snap.val()?.balance || 0;
            document.getElementById('u-balance').innerText = b;
            document.getElementById('u-balance-big').innerText = b;
        });

        window.watchAd = () => {
            alert("Ø¬Ø§Ø±Ù ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† Ù„Ø¯Ø¹Ù… Ø§Ù„ØªØ·ÙˆÙŠØ±...");
            window.open("ad_page.html", "_blank");
            
            setTimeout(() => {
                get(ref(db, 'ZEYKOR/config/adPoints')).then(snap => {
                    const points = snap.val() || 50; 
                    get(ref(db, 'ZEYKOR/users/' + phone)).then(userSnap => {
                        const curBal = userSnap.val().balance;
                        update(ref(db, 'ZEYKOR/users/' + phone), { balance: curBal + points });
                        alert(`Ù…Ø¨Ø±ÙˆÙƒ! Ø­ØµÙ„Øª Ø¹Ù„Ù‰ ${points} Ù†Ù‚Ø§Ø· Ø¯Ø¹Ù…!`);
                    });
                });
            }, 10000);
        };

        onValue(ref(db, 'ZEYKOR/hacks'), (snap) => {
            const grid = document.getElementById('hacks-grid');
            grid.innerHTML = "";
            snap.forEach(child => {
                const h = child.val();
                const hId = child.key;
                grid.innerHTML += `
                    <div class="glass p-5 rounded-3xl text-center hack-card flex flex-col justify-between">
                        <div>
                            <div class="text-4xl mb-3">ğŸš€</div>
                            <p class="font-bold text-sm text-white">${h.name}</p>
                        </div>
                        <p class="text-red-400 font-black text-xl my-3">${h.price} ğŸª™</p>
                        <button onclick="buyHack('${hId}', ${h.price}, '${h.fileUrl}')" class="bg-red-600 text-white w-full rounded-xl text-sm p-3 font-bold">Ø´Ø±Ø§Ø¡ ÙˆØªØ­Ù…ÙŠÙ„</button>
                    </div>
                `;
            });
        });

        window.buyHack = (hId, price, fileUrl) => {
            if(!fileUrl || fileUrl === "") return alert("Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ù„Ù ØºÙŠØ± Ù…ØªØ§Ø­ Ø­Ø§Ù„ÙŠØ§Ù‹!");
            get(ref(db, 'ZEYKOR/users/' + phone)).then(snap => {
                let balance = snap.val()?.balance || 0;
                if(balance < price) return alert("Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø±ØµÙŠØ¯ ÙƒØ§ÙÙŠ!");
                update(ref(db, 'ZEYKOR/users/' + phone), { balance: balance - price });
                alert("ØªÙ… Ø®ØµÙ… Ø§Ù„Ù†Ù‚Ø§Ø·! Ø¬Ø§Ø±Ù Ø¨Ø¯Ø¡ Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ù…Ø¨Ø§Ø´Ø±Ø©...");
                window.location.href = fileUrl;
            });
        };
    </script>
</body>
</html>
